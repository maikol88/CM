<div class="row">
  <div class="well col-md-8 col-md-offset-2">
    <%= render 'shared/errors', obj: @user %>

    <%= form_for(@user, html: { multipart: true }) do |u| %>
      <%= u.label :default_pic %><br>
      <%= u.select(:default_pic, User::PIC_LIST) %>
      <p>
      <%= u.label :username %><br>
      <%= u.text_field :username %>
      </p>
      <p>
      <%= u.label :email %><br>
      <%= u.text_field :email %>
      </p>
      <p>
        <label>Picture</label>
      </p>
      <span class="picture">
        <%= u.file_field :picture, accept: 'image/jpeg,image/gif,image/png', class: "custom-input" %>
      </span>
      <br>

      <p><%= u.submit( @user.new_record? ? "Create USER": "Update USER", class: "btn btn-success") %>
    <% end %>
  </div>
</div>

<script type="text/javascript">
  $('#user_picture').bind('change', function(){
    size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 10){
        alert('Maximum size is 10MB. Please choose a smaller file.');
    }
  });
</script>